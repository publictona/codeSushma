<% include ../partials/head %>
    <% include ../partials/header %>
        <style>
            .contentRow {
                white-space: break-spaces !important;
            }

            .tourcode,
            .formno {
                text-transform: uppercase;
                font-size: 16px;
                font-weight: 800;
            }

            .tourname {
                font-size: 12px;
            }

            .tour-detials {
                font-size: 15px;
                white-space: nowrap;
            }

            .background-box {
                background: #dadada;
                padding: 1px 5px;
                border-radius: 4px;
            }

            .col-150 {
                min-width: 150px;
                max-width: 150px;
                width: 150px;
            }

            .col-50 {
                min-width: 50px;
                max-width: 50px;
                width: 50px;
            }

            .alert {
                width: auto;
                padding: 20px;
                font-size: 15px;
                top: 63px !important;
                right: 20px !important;
                z-index: 999999 !important;
            }

            .ibTable tr td {
                padding: 3px;
            }

            .calIpBox {
                border-bottom: 1px solid #fff;
            }

            label.error {
                display: block !important;
            }


            @media print {
                .page-break {
                    display: block;
                    page-break-before: always;
                }

                tfoot img {
                    position: fixed;
                    bottom: 0;
                }
            }
        </style>


        </style>

        <div class="box">
            <div class="box-header with-border with-hamburger">
                <a href="javascript:void(0);" class="box-header-hamburger-menu" onclick="openNav()">
                    <i class="fa fa-bars" aria-hidden="true"></i>
                </a>
                <h3 class="box-title">Print Checklist</h3>
            </div>
            <div class="box-body">
                <div class="row gutter--3px">
                    <div onclick="addNewUser()" class="col-md-12 text-left"> <i class="fa fa-print btn btn-primary"
                            style="margin-bottom:5px; "></i> </div>



                </div>
            </div>
        </div>

        <div class="modal fade" id="newUserBox" tabindex="-1" role="dialog" aria-labelledby="newUserBox"
            aria-hidden="true">
            <div class="modal-dialog modal-lg" role="document">


                <div class="modal-content">
                    <div class="modal-header">Wedding Planner Checklist</h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div class="modal-body">
                        <form id="regForm">
                            <div class="row gutter--3px">
                                <div class="col-md-12">
                                    <div class="row gutter--3px">

                                        <div class="col-md-12 text-right"><i class="fa fa-print btn btn-primary"
                                                onclick="printVoucher(this)" style="margin-bottom:5px; "></i></div>

                                        <div class="col-md-12 table-responsive" id="regForm"
                                            style="font-family: monospace;">

                                            <table style="width:100%;">

                                                <tr>
                                                    <td colspan="6">
                                                        <h3>Wedding Planner Checklist</h3>
                                                    </td>
                                                    <td><img src="https://image.kesari.in/upload/assets/kesari-tours.png"
                                                            style="float:right;width:50px;">
                                                    </td>
                                                </tr>
                                            </table>

                                            <table style="width:100%; font-size:12px;">
                                                <tr colspan="6">
                                                    <td style="vertical-align:bottom;">KESARI TOURS PVT. LTD,kesari.in
                                                        (CIN
                                                        No :
                                                        U63040MH1995PTC084356)</td>
                                                </tr>
                                            </table>

                                            <hr>

                                            <table  colspan="12" style="width:100%; font-size:12px;margin-top:10px; ">
                                                <tr>
                                                    <td style="width:20%">Guest Name</td>
                                                    <td colspan="1">: Tanuja P.
                                                    </td>
                                                    <td>Date:11/07/2023</td>
                                                    <td ></td>
                                                </tr>


                                                <tr>
                                                    <td style="width:20%">Guest Email</td>
                                                    <td colspan="1">: sush@gmail.com
                                                    </td>
                                                    <td></td>
                                                    <td></td>
                                                </tr>

                                                <tr>
                                                    <td style="width:20%">Guest Mobile</td>
                                                    <td colspan="1">: 8777887878
                                                    </td>
                                                    <td></td>
                                                    <td></td>
                                                </tr>

                                                <tr>
                                                    <td style="width:20%">Wedding Planner Name</td>
                                                    <td colspan="1">: Sushma Landge
                                                    </td>
                                                    <td></td>
                                                    <td></td>
                                                </tr>




                                                <td colspan="6">
                                                    --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
                                                </td>
                                                </tr>

                                                <!-- --------checklist table-------- -->
                                                <table border="1" cellpadding="0" cellspacing="0"
                                                    style="width:100%;font-size:12px;border-spacing: 0.5rem;border-collapse: collapse;">
                                                    <tbody>


                                                        <!-- ---------------- -->
                                                        <tr colspan="8">
                                                            <td colspan="2" style="width:5%;padding-left: 10px;">Sr.
                                                            </td>
                                                            <td colspan="3" style="width:45%;padding-left: 10px;">
                                                                Requirement</td>
                                                            <td colspan="3" style="width:45%;padding-left: 10px;">
                                                                Remarks</td>
                                                            <td></td>
                                                        </tr>


                                                        <tr>
                                                            <td colspan="2"
                                                                style="padding-left: 10px;padding-top: 5px;padding-bottom: 5px;">
                                                                1

                                                            </td>
                                                            <td colspan="3"
                                                                style="padding-left: 10px;padding-top: 5px;padding-bottom: 5px;">
                                                                Gather Guest List

                                                            </td>
                                                            <td colspan="3"
                                                                style="padding-left: 10px;padding-top: 5px;padding-bottom: 5px;">
                                                                almost Done

                                                            </td>
                                                        </tr>

                                                    </tbody>
                                                </table>

                                                <tr>
                                                    <td>
                                                        Received the above mentioned Checklist Requirement form Kesari
                                                        Tours
                                                        Pvt. Ltd.

                                                    </td>
                                                </tr>
                                                <br>
                                                <br>
                                                <tr>
                                                    <td>
                                                        Guest Sign :
                                                    </td>
                                                </tr>

                                                <hr>

                                                <tr>
                                                <tr></tr>
                                                <td colspan="4">
                                                    *************Your Wedding, Our Planning, Promise By
                                                    Kesari********************* </td>
                                                </tr>
                                            </table>
                                        </div>
                                    </div>
                                </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>

        <script>
            var DrawTableInquiry;


            $(document).ready(function () {

                DrawTableInquiry = DrawCustomDataTable("uspList", 350,
                    "/route/multiLangUsp/grid-data", dataColumns, [
                    [0, "asc"]
                ], "frm_grid_search", null, true, true);

                $("#frm_grid_search").validate({
                    errorPlacement: function (error, element) { },
                    submitHandler: function (form) {
                        DrawTableInquiry.ajax.reload();
                    }
                });
                $('.textUpper').on('keyup', function (e) {
                    $(this).val($(this).val().toUpperCase());
                });

                $("form#regForm").submit(function (e) {
                    $('#newUserBox').modal('hide');
                    e.preventDefault();
                });

                $("#regForm").validate({
                    rules: {},
                    messages: {

                    },
                    errorPlacement: function (error, element) {
                        offset = element.offset();
                        error.insertAfter(element)
                        error.addClass('message');
                        error.css('display', 'block!important');
                    },
                    submitHandler: function (form) {
                        var $form = $(form);
                        var formData = $form.serializeObject();
                        var method = "post";
                        var url = "/route/multiLangUsp/create";
                        console.log(formData.id);
                        if (formData.id != 0) {
                            url =
                                '/route/multiLangUsp/updatebookingdata/' +
                                formData.id;
                            method = "put";
                        }
                        $.ajax({
                            url: url,
                            type: method,
                            contentType: "application/json; charset=utf-8",
                            data: JSON.stringify(formData),
                            //data: formData,
                            dataType: "json",
                            success: function (result) {

                                if (result.status) {
                                    notification({
                                        type: "success",
                                        message: result
                                            .msg
                                    });
                                    DrawTableInquiry.ajax
                                        .reload();
                                }
                            }
                        });
                    }
                });
            });

            function addNewUser() {
                $('#newUserBox').modal('show');
            }

            function populate(frm, data) {
                $.each(data, function (key, value) {
                    $('[name=' + key + ']', frm).val(value);
                });
                $('.sector').select2();
            }

            function getUser(id) {
                //console.log(id.getAttribute('data-id'));
                var id = id.getAttribute('data-id');

                $.ajax({
                    url: "/route/multiLangUsp/bookingdata",
                    type: "get",
                    data: {
                        id: id
                    },
                    success: function (result) {
                        console.log("hi");
                        console.log(result);
                        console.log(result.data.firstName);
                        var iddata = {
                            id: result.data._id
                        }
                        populate('#regForm', result.data);
                        populate('#regForm', iddata);
                        $('#newUserBox').modal('show');

                    }
                })
            }

            function openNav() {
                document.getElementById("mySidenav").style.width = "250px";
            }

            function closeNav() {
                document.getElementById("mySidenav").style.width = "0";
            }

            function getTourZone() {
                var tray_url = "/route/rsData/getTourZones/0";
                $.getJSON(tray_url, function (data) {
                    var optionList1 = '<option value=""></option>';
                    $.each(data, function () {
                        // console.log(data);
                        if (this != "") {
                            optionList1 += '<option value="' + this + '">' +
                                this + '</option>'
                        }
                    });
                    $('.sector').html(optionList1);
                    $('.sector').select2();
                });
            }

            getTourZone();


            //for print Checklist
            function printVoucher() {
                var divToPrint = document.getElementById("#regForm");
                divToPrint.style.border = "1px";
                newWin = window.open("");
                newWin.document.write(divToPrint.outerHTML);
                newWin.print();
                newWin.close();
            };
        </script>
        <% include ../partials/footer %>